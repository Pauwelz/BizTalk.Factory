/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(n,t){"$:nomunge";function c(n){return typeof n=="string"}function f(n){var t=k.call(arguments,1);return function(){return n.apply(this,t.concat(k.call(arguments)))}}function st(n){return n.replace(/^[^#]*#?(.*)$/,"$1")}function ht(n){return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function nt(f,s,l,y,p){var g,w,k,d,nt;return y!==i?(k=l.match(f?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),nt=k[3]||"",p===2&&c(y)?w=y.replace(f?tt:et,""):(d=r(k[2]),y=c(y)?r[f?u:e](y):y,w=p===2?y:p===1?n.extend({},y,d):n.extend({},d,y),w=h(w),f&&(w=w.replace(b,v))),g=k[1]+(f?"#":w||!k[1]?"?":"")+w+nt):g=s(l!==i?l:t[a][o]),g}function g(n,t,f){return t===i||typeof t=="boolean"?(f=t,t=h[n?u:e]()):t=c(t)?t.replace(n?tt:et,""):t,r(t,f)}function d(t,r,u,f){return c(u)||typeof u=="object"||(f=u,u=r,r=i),this.each(function(){var e=n(this),i=r||rt()[(this.nodeName||"").toLowerCase()]||"",o=i&&e.attr(i)||"";e.attr(i,h[t](o,u,f))})}var i,k=Array.prototype.slice,v=decodeURIComponent,h=n.param,s,r,p,w=n.bbq=n.bbq||{},ot,ft,rt,ut=n.event.special,it="hashchange",e="querystring",u="fragment",y="elemUrlAttr",a="location",o="href",l="src",et=/^.*\?|#.*$/g,tt=/^.*\#/,b,ct={};h[e]=f(nt,0,ht),h[u]=s=f(nt,1,st),s.noEscape=function(t){t=t||"";var i=n.map(t.split(""),encodeURIComponent);b=new RegExp(i.join("|"),"g")},s.noEscape(",/"),n.deparam=r=function(t,r){var u={},f={"true":!0,"false":!1,"null":null};return n.each(t.replace(/\+/g," ").split("&"),function(t,e){var y=e.split("="),h=v(y[0]),o,a=u,l=0,s=h.split("]["),c=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[c])?(s[c]=s[c].replace(/\]$/,""),s=s.shift().split("[").concat(s),c=s.length-1):c=0,y.length===2)if(o=v(y[1]),r&&(o=o&&!isNaN(o)?+o:o==="undefined"?i:f[o]!==i?f[o]:o),c)for(;l<=c;l++)h=s[l]===""?a.length:s[l],a=a[h]=l<c?a[h]||(s[l+1]&&isNaN(s[l+1])?{}:[]):o;else n.isArray(u[h])?u[h].push(o):u[h]=u[h]!==i?[u[h],o]:o;else h&&(u[h]=r?i:"")}),u},r[e]=f(g,0),r[u]=p=f(g,1),n[y]||(n[y]=function(t){return n.extend(ct,t)})({a:o,base:o,iframe:l,img:l,input:l,form:"action",link:o,script:l}),rt=n[y],n.fn[e]=f(d,e),n.fn[u]=f(d,u),w.pushState=ot=function(n,r){c(n)&&/^#/.test(n)&&r===i&&(r=2);var f=n!==i,u=s(t[a][o],f?n:{},f?r:2);t[a][o]=u+(/#/.test(u)?"":"#")},w.getState=ft=function(n,t){return n===i||typeof n=="boolean"?p(n):p(t)[n]},w.removeState=function(t){var r={};t!==i&&(r=ft(),n.each(n.isArray(t)?t:arguments,function(n,t){delete r[t]})),ot(r,2)},ut[it]=n.extend(ut[it],{add:function(t){function e(n){var t=n[u]=s();n.getState=function(n,u){return n===i||typeof n=="boolean"?r(t,n):r(t,u)[n]},f.apply(this,arguments)}var f;if(n.isFunction(t))return f=t,e;f=t.handler,t.handler=e}})})(jQuery,this);
/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(n,t,i){"$:nomunge";function e(n){return n=n||t[u][f],n.replace(/^[^#]*#?(.*)$/,"$1")}var o,c=n.event.special,u="location",r="hashchange",f="href",a=n.browser,l=document.documentMode,s=a.msie&&(l===i||l<8),h="on"+r in t&&!s;n[r+"Delay"]=100,c[r]=n.extend(c[r],{setup:function(){if(h)return!1;n(o.start)},teardown:function(){if(h)return!1;n(o.stop)}}),o=function(){function a(){i=c=function(n){return n},s&&(h=n('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,c=function(){return e(h.document[u][f])},i=function(n,t){if(n!==t){var i=h.document;i.open().close(),i[u].hash="#"+n}},i(e()))}var l={},o,h,i,c;return l.start=function(){if(!o){var s=e();i||a(),function h(){var a=e(),l=c(s);a!==s?(i(s=a,l),n(t).trigger(r)):l!==s&&(t[u][f]=t[u][f].replace(/#.*/,"")+"#"+l),o=setTimeout(h,n[r+"Delay"])}()}},l.stop=function(){h||(o&&clearTimeout(o),o=0)},l}()})(jQuery,this);